## 2.HTTP协议基础


### HTTP 简介
    超文本传输协议（HTTP，HyperText Transfer Protocol)应用最为广泛的一种网络协议
    HTTP 协议在网络 OSI 模型中属于应用层协议
    应用层协议除了 HTTP 还有：FTP，SMTP，DNS，RIP，Telnet 等。
    HTTP 协议工作于客户端—服务端架构上。浏览器作为 HTTP 客户端通过 URL 向 HTTP 服务端（即 Web 服务器）发送请求。

### 超文本
    
    超文本英文名称叫做  Hypertext，
    网页的源代码  HTML 就可以称作超文本，里面包含了一系列标签，如  img 显示图片， p 指定显示段落等
    例如我们在 Chrome 浏览器里面打开如百度页面，右键点击"查看源代码"，这些源代码都是超文本。

### URL
    URL (Uniform Resource Locator，统一资源定位符)
    
### HTTP 功能
    HTTP 协议（HyperText Transfer Protocol，超文本传输协议，是用于从服务器传输超文本到本地浏览器的传输协议。它可以使浏览器更加高效，使网络传输减少。它不仅保证计算机正确快速地传输超文本文档，还确定传输文档中的哪一部分，以及哪部分内容首先显示(如文本先于图形)等。
    
### HTTP 特点
    •  无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。
    
    •  媒体独立：这意味着，只要客户端和服务器知道如何处理的数据内容，任何类型的数据都可以通过 HTTP发送。客户端以及服务器指定使用适合的 MIME-type 来传输。 详见：MIME 参考手册
    
    •  无状态：HTTP 协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。如果服务器不需要先前信息，那么它的应答就比较快。但是缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大，此时可以设置缓存。


### HTTP 与 HTTPS
    HTTPS 的全称是 Hyper Text Transfer Protocol over Secure Socket Layer，是以安全为目标的 HTTP 通道，简单讲是 HTTP 的安全版，即 HTTP 下加入 SSL 层（Secure Sockets Layer 安全套接层），简称为 HTTPS。S 其实是 Security 单词的首字母。
    HTTPS 的安全基础是 SSL，因此通过它传输的内容都是经过 SSL 加密的，它的主要作用可以分为两种：
        1. 是建立一个信息安全通道，来保证数据传输的安全。
        2. 确认网站的真实性，凡是使用了 https 的网站，都可以通过点击浏览器地址栏的锁头标志来查看网站认证之后的真实信息，也可以通过 CA 机构颁发的安全签章来查询。

对未进行 HTTPS 加密的网址链接亮出风险提示，即在地址栏的显著位置提醒用户“此网页不安全”。
![](/assets/snipaste20191212_103313.jpg)

### HTTP 与 TCP/IP 的区别
    TCP/IP 协议是传输层协议，主要解决数据如何在网络中传输
    HTTP 是应用层协议，主要解决如何包装数据
    
### 关于 TCP/IP 和 HTTP 协议的关系
    网络有一段比较容易理解的介绍：“我们在传输数据时，可以只使用（传输层）TCP/IP 协议，但是那样的话，如果没有应用层，便无法识别数据内容，如果想要使传输的数据有意义，则必须使用到应用层协议，应用层协议有很多，比如 HTTP、FTP、TELNET 等，也可以自己定义应用层协议。WEB 使用 HTTP协议作应用层协议，以封装 HTTP 文本信息，然后使用 TCP/IP 做传输层协议将它发到网络上。”
    
### HTTP 请求过程
    我们在浏览器输入百度首页的地址：https://www.baidu.com/ 输入之后浏览器会给我们打开百度首页。实际上这个过程是浏览器向网站所在的服务器发送了一个 Request，即请求，网站服务器接收到这个 Request 之后进行处理和解析，然后返回对应的一个 Response，即响应，然后传回给浏览器，Response 里面就包含了页面的源代码等内容，浏览器再对其进行解析便将网页呈现了出来。
![](/assets/snipaste20191212_104140.jpg)

### Request
    Request，即请求，由客户端向服务端发出。可以将 Request 划分为四部分内容：
    •  Request Method: 请求方式
    •  Request URL: 请求链接
    •  Request Headers: 请求头
    •  Request Body: 请求体
    
### Request Method

    请求方式，请求方式常见的有两种类型，GET 和 POST。
    
    GET 用于信息获取
        从发送请求的角度，GET 请求相当于我们在数据库中做了查询的操作，这样的操作不影响数据库本身的数据。
    POST 表示可能会修改服务器上资源的请求
        相当于在数据库中做了修改的操作，会影响数据库本身的数据（比如：注册了账户，发了帖子，做了评论，得到了积分等。这种情况下，资源状态被改变了）。
    
    案例 1——GET 请求
        在浏览器输入： https://www.baidu.com/s?wd=appium 并回车，这个其实就是在百度搜索 appium 这个关键词。 URL 中包含了请求的参数信息，这里参数 wd 就是要搜寻的关键字。在浏览器可以看到 Query String Parameters 选项就是请求的参数。发起一次 GET 请求时，参数会以 url string 的形式进行传递。即 ? 后的字符串则为其请求参数，并以 &作为分隔符
    
    案例 2——POST 请求
        一般来说，网站登录验证的时候，需要提交用户名密码，这里包含了敏感信息，使用 GET 方式请求的话密码就会暴露在 URL 里面，造成密码泄露，所以这里最好以 POST 方式发送。文件的上传时，由于文件内容比较大，也会选用 POST 方式。比如百度账户登录，如下图所示：
        
![](/assets/snipaste20191212_104913.jpg)

#### 请求方式总结如下：
    GET     请求指定的页面信息，并返回实体主体。
    POST    向指定资源提交数据进行处理请求，数据被包含在请求体中。
    PUT     从客户端向服务器传送的数据取代指定的文档的内容。
    PATCH   对 PUT 方法的补充，用来对已知资源进行局部更新
    DELETE  请求服务器删除指定的页面。
    HEAD    类似于 GET 请求，只不过返回的响应中没有具体的内容，用于获取报头
    CONNECT  HTTP/1.1 协议中预留给能够将连接改为管道方式的代理服务器。
    OPTIONS  允许客户端查看服务器的性能。
    TRACE    回显服务器收到的请求，主要用于测试或诊断。
    
    
    

        
     
    
